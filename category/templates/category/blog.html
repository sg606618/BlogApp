{% extends 'category/base.html' %}
{% load static %}

{% block title %}Blogs{% endblock %}

{% block blog-content %}
    <section class="relative py-10">
        <div class="container mx-auto px-4">
            <h1 class="text-center text-4xl font-bold uppercase">Blogs</h1>
            {% if request.user.is_authenticated %}
                <div class="absolute text-sm rounded right-10 top-10 bg-gray-500 w-fit h-fit px-3 py-1">
                    <a href="{% url 'category:add' %}" class="text-center text-white">Add Blogs</a>
                </div>
            {% else %}
                <div class="absolute text-sm rounded right-10 top-10 bg-gray-500 w-fit h-fit px-3 py-1">
                    <p class="text-center text-white">You must <a href="{% url 'account:login' %}" class="underline">log
                        in</a> to add a blog.</p>
                </div>
            {% endif %}
            <section class="text-gray-600 body-font">
                <div class="container px-5 py-24 mx-auto">
                    <div class="flex flex-wrap -m-4">
                        {% for blog in blogs %}
                            <div class="md:w-5/12 lg:w-3/12 p-4">
                                <div class="bg-gray-100 p-6 rounded-lg">
                                    <a href="{% url 'category:blog_description' blog.slug %}">
                                        <img class="h-40 rounded w-full object-cover object-center mb-6"
                                             src="{{ blog.image.url }}" alt="content">
                                    </a>
                                    <h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font">{{ blog.category.category_name }}</h3>
                                    <h2 class="text-lg text-gray-900 font-medium title-font mb-4">{{ blog.title }}</h2>
                                    <p class="leading-relaxed text-base line-clamp-3">{{ blog.content }}</p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </section>
        </div>
    </section>
{% endblock %}